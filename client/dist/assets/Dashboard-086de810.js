import{u as Z,r as a,s as ee,a as te,b as ne,j as n,c as t,L as oe,D as c,F as y,d as s}from"./index-ae18f64d.js";import{I as d}from"./IconHorizontalDots-780020c2.js";import{I as ae}from"./IconCircleCheck-812b1ebd.js";import{I as se}from"./IconInfoCircle-26ad4fbf.js";const me=()=>{const w=Z();a.useEffect(()=>{w(ee("Dashboard"))});const l=te(e=>e.themeConfig.rtlClass)==="rtl",C=ne(),[re,i]=a.useState([]),[k,F]=a.useState([]),[m,D]=a.useState(null),[p,E]=a.useState(null),[h,S]=a.useState(null),[g,P]=a.useState(null),[u,$]=a.useState(null),[f,A]=a.useState(null),[v,T]=a.useState(null),[b,L]=a.useState(null),[N,z]=a.useState(null),[x,I]=a.useState(null),j=e=>{const o=new Date(e),K=o.getFullYear(),Q=String(o.getMonth()+1).padStart(2,"0"),U=String(o.getDate()).padStart(2,"0"),V=String(o.getHours()).padStart(2,"0"),X=String(o.getMinutes()).padStart(2,"0");return n(y,{children:[K,"-",Q,"-",U,Array(4).fill(t(y,{children:"Â "}))," ",n("b",{children:[V,":",X]})]})},W=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/top_appointments");if(console.log("Current Appointment Details:",e.data),e.data.success===!0){const o=e.data.data;i(o),F(o),console.log("Fetched all appointments:",o)}else console.error("Failed to fetch all appointments:",e.data.message)}catch(e){console.error("Error fetching all appointments",e),i([])}};a.useEffect(()=>{W()},[]);const R=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/completed/count");if(console.log("Current Appointment Count:",e.data),e.data.success===!0){const o=e.data.count;D(o),console.log("Fetched current appointments:",o)}else console.error("Failed to fetch current appointments:",e.data.message)}catch(e){console.error("Error fetching current appointments",e)}};a.useEffect(()=>{R()},[]);const O=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/pending/count");if(console.log("Pending Appointment Count:",e.data),e.data.success===!0){const o=e.data.count;E(o),console.log("Fetched penind appointments:",o)}else console.error("Failed to fetch penind appointments:",e.data.message)}catch(e){console.error("Error fetching penind appointments",e)}};a.useEffect(()=>{O()},[]);const H=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/cancelled/count");if(console.log("Cancelled Appointment Count:",e.data),e.data.success===!0){const o=e.data.count;P(o),console.log("Fetched cancelled appointments:",o)}else console.error("Failed to fetch cancelled appointments:",e.data.message)}catch(e){console.error("Error fetching cancelled appointments",e)}};a.useEffect(()=>{H()},[]);const M=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/total/count");if(console.log("Total Appointment Count:",e.data),e.data.success===!0){const o=e.data.count;S(o),console.log("Fetched total appointments:",o)}else console.error("Failed to fetch total appointments:",e.data.message)}catch(e){console.error("Error fetching total appointments",e)}};a.useEffect(()=>{M()},[]);const Y=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/completed/on-campus");if(console.log("Completed work:",e.data),e.data.success===!0){const o=e.data.count;$(o),console.log("Fetched completed work:",o)}else console.error("Fetched completed work:",e.data.message)}catch(e){console.error("Error fetching completed work",e)}};a.useEffect(()=>{Y()},[]);const _=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/completed/off-campus");if(console.log("Travel work:",e.data),e.data.success===!0){const o=e.data.count;A(o),console.log("Fetched completed travel:",o)}else console.error("Fetched completed travel:",e.data.message)}catch(e){console.error("Error fetching completed travel",e)}};a.useEffect(()=>{_()},[]);const q=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/completed/travel");if(console.log("Personal work:",e.data),e.data.success===!0){const o=e.data.count;T(o),console.log("Fetched completed personal:",o)}else console.error("Fetched completed personal:",e.data.message)}catch(e){console.error("Error fetching completed personal",e)}};a.useEffect(()=>{q()},[]);const B=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/pending/on-campus");if(console.log("Pending work:",e.data),e.data.success===!0){const o=e.data.count;L(o),console.log("Fetched pending work:",o)}else console.error("Fetched pending work:",e.data.message)}catch(e){console.error("Error fetching pending work",e)}};a.useEffect(()=>{B()},[]);const G=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/pending/travel");if(console.log("Pending personal:",e.data),e.data.success===!0){const o=e.data.count;z(o),console.log("Fetched pending personal:",o)}else console.error("Fetched pending personal:",e.data.message)}catch(e){console.error("Error fetching pending personal",e)}};a.useEffect(()=>{G()},[]);const J=async()=>{try{const e=await s.get("https://server-side-5zbf.onrender.com/api/pending/off-campus");if(console.log("Pending travel:",e.data),e.data.success===!0){const o=e.data.count;I(o),console.log("Fetched pending travel:",o)}else console.error("Fetched pending travel:",e.data.message)}catch(e){console.error("Error fetching pending travel",e)}};a.useEffect(()=>{J()},[]);const r=()=>{C("/datatables/export")};return n("div",{children:[n("ul",{className:"flex space-x-2 rtl:space-x-reverse",children:[t("li",{children:t(oe,{to:"#",className:"text-primary hover:underline",children:"Dashboard"})}),t("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:t("span",{children:"Home"})})]}),n("div",{className:"pt-5",children:[n("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 mb-6 text-white",children:[n("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400",onClick:r,children:[n("div",{className:"flex justify-between",children:[t("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Completed Appointments"}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${l?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(d,{className:"hover:opacity-80 opacity-70"})})})]}),t("div",{className:"flex items-center mt-5",children:n("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:[" ",m!==null?`${m}`:"Loading..."]})})]}),n("div",{className:"panel bg-gradient-to-r from-violet-500 to-violet-400",onClick:r,children:[n("div",{className:"flex justify-between",children:[t("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Pending Appointments"}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${l?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(d,{className:"hover:opacity-80 opacity-70"})})})]}),t("div",{className:"flex items-center mt-5",children:n("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:[" ",p!==null?`${p}`:"Loading..."]})})]}),n("div",{className:"panel bg-gradient-to-r from-blue-500 to-blue-400",onClick:r,children:[n("div",{className:"flex justify-between",children:[t("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Cancelled Appointments"}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${l?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(d,{className:"hover:opacity-80 opacity-70"})})})]}),t("div",{className:"flex items-center mt-5",children:t("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:g!==null?`${g}`:"Loading..."})})]}),n("div",{className:"panel bg-gradient-to-r from-fuchsia-500 to-fuchsia-400",onClick:r,children:[n("div",{className:"flex justify-between",children:[t("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Appointments"}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${l?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(d,{className:"hover:opacity-80 opacity-70"})})})]}),t("div",{className:"flex items-center mt-5",children:n("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:[" ",h!==null?`${h}`:"Loading..."]})})]})]}),n("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[n("div",{className:"grid gap-6 xl:col-span-5",children:[n("div",{className:"panel overflow-hidden",onClick:r,children:[n("div",{className:"flex items-center justify-between",children:[n("div",{children:[t("div",{className:"text-lg font-bold",children:"Completed Appointments"}),t("div",{className:"text-success",children:" Attended "})]}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${l?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(d,{className:"hover:opacity-80 opacity-70"})})})]}),n("div",{className:"relative mt-10",children:[t("div",{className:"absolute -bottom-12 ltr:-right-12 rtl:-left-12 w-24 h-24",children:t(ae,{className:"text-success opacity-20 w-full h-full"})}),n("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[n("div",{children:[t("div",{className:"text-primary",children:"Travel"}),n("div",{className:"mt-2 font-semibold text-2xl",children:[" ",v!==null?`${v}`:"Loading..."]})]}),n("div",{children:[t("div",{className:"text-primary",children:"On Campus"}),n("div",{className:"mt-2 font-semibold text-2xl",children:[" ",u!==null?`${u}`:"Loading..."]})]}),n("div",{children:[t("div",{className:"text-primary",children:"Off Campus"}),n("div",{className:"mt-2 font-semibold text-2xl",children:[" ",f!==null?`${f}`:"Loading..."]})]})]})]})]}),n("div",{className:"panel overflow-hidden",onClick:r,children:[n("div",{className:"flex items-center justify-between",children:[n("div",{children:[t("div",{className:"text-lg font-bold",children:"Pending Appointments"}),t("div",{className:"text-danger",children:" To be attended "})]}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${l?"bottom-start":"bottom-end"}`,button:t(d,{className:"hover:opacity-80 opacity-70"})})})]}),n("div",{className:"relative mt-10",children:[t("div",{className:"absolute -bottom-12 ltr:-right-12 rtl:-left-12 w-24 h-24",children:t(se,{className:"text-danger opacity-20 w-24 h-full"})}),n("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[n("div",{children:[t("div",{className:"text-primary",children:"Travel"}),t("div",{className:"mt-2 font-semibold text-2xl",children:N!==null?`${N}`:"Loading..."})]}),n("div",{children:[t("div",{className:"text-primary",children:"On Campus"}),t("div",{className:"mt-2 font-semibold text-2xl",children:b!==null?`${b}`:"Loading..."})]}),n("div",{children:[t("div",{className:"text-primary",children:"Off Campus"}),t("div",{className:"mt-2 font-semibold text-2xl",children:x!==null?`${x}`:"Loading..."})]})]})]})]})]}),n("div",{className:"panel xl:col-span-7",children:[t("div",{className:"mb-5 text-lg font-bold",children:"All Appointments"}),t("div",{className:"table-responsive",onClick:r,children:n("table",{children:[t("thead",{children:n("tr",{children:[t("th",{children:"Start"}),t("th",{children:"Name"}),t("th",{children:"Location"}),t("th",{children:"Type"}),t("th",{children:"Status"})]})}),t("tbody",{children:k.map(e=>n("tr",{children:[t("td",{children:j(e.appointmentFrom)}),t("td",{children:t("div",{className:"whitespace-nowrap",children:e.appointmentName})}),t("td",{children:e.appointmentLocation}),t("td",{children:t("span",{className:`badge whitespace-nowrap ${e.event==="Personal"?"badge badge-outline-primary   ":e.event==="Work"?"badge badge-outline-warning":e.event==="Travel"?"badge badge-outline-success":e.event==="Important"?"badge badge-outline-danger":"badge badge-outline-warning"}`,children:e.event})}),t("td",{children:t("span",{className:`badge whitespace-nowrap ${e.status==="Completed"?"badge badge-outline-primary   ":e.status==="Pending"?"badge badge-outline-success":e.status==="Rescheduled"||e.status==="In Progress"?"badge badge-outline-secondary":e.status==="Cancelled"?"badge badge-outline-danger":"badge badge-outline-primary"}`,children:e.status})})]}))})]})})]})]})]})]})};export{me as default};
