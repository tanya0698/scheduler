import{u as Z,r as n,s as ee,a as te,b as oe,j as o,c as t,L as ae,D as c,F as w,d as s}from"./index-3b001abd.js";import{I as i}from"./IconHorizontalDots-92bf5c69.js";import{I as ne}from"./IconCircleCheck-26ef300e.js";import{I as se}from"./IconInfoCircle-b58d71aa.js";const me=()=>{const C=Z();n.useEffect(()=>{C(ee("Dashboard"))});const r=te(e=>e.themeConfig.rtlClass)==="rtl",k=oe(),[le,d]=n.useState([]),[F,D]=n.useState([]),[m,E]=n.useState(null),[p,P]=n.useState(null),[h,S]=n.useState(null),[g,T]=n.useState(null),[u,$]=n.useState(null),[f,A]=n.useState(null),[v,L]=n.useState(null),[b,I]=n.useState(null),[N,j]=n.useState(null),[x,W]=n.useState(null),y=e=>{const a=new Date(e),O=a.getFullYear(),Q=String(a.getMonth()+1).padStart(2,"0"),U=String(a.getDate()).padStart(2,"0"),V=String(a.getHours()).padStart(2,"0"),X=String(a.getMinutes()).padStart(2,"0");return o(w,{children:[O,"-",Q,"-",U,Array(4).fill(t(w,{children:"Â "}))," ",o("b",{children:[V,":",X]})]})},R=async()=>{try{const e=await s.get("http://localhost:4002/api/top_appointments");if(console.log("Current Appointment Details:",e.data),e.data.success===!0){const a=e.data.data;d(a),D(a),console.log("Fetched all appointments:",a)}else console.error("Failed to fetch all appointments:",e.data.message)}catch(e){console.error("Error fetching all appointments",e),d([])}};n.useEffect(()=>{R()},[]);const H=async()=>{try{const e=await s.get("http://localhost:4002/api/completed/count");if(console.log("Current Appointment Count:",e.data),e.data.success===!0){const a=e.data.count;E(a),console.log("Fetched current appointments:",a)}else console.error("Failed to fetch current appointments:",e.data.message)}catch(e){console.error("Error fetching current appointments",e)}};n.useEffect(()=>{H()},[]);const M=async()=>{try{const e=await s.get("http://localhost:4002/api/pending/count");if(console.log("Pending Appointment Count:",e.data),e.data.success===!0){const a=e.data.count;P(a),console.log("Fetched penind appointments:",a)}else console.error("Failed to fetch penind appointments:",e.data.message)}catch(e){console.error("Error fetching penind appointments",e)}};n.useEffect(()=>{M()},[]);const z=async()=>{try{const e=await s.get("http://localhost:4002/api/cancelled/count");if(console.log("Cancelled Appointment Count:",e.data),e.data.success===!0){const a=e.data.count;T(a),console.log("Fetched cancelled appointments:",a)}else console.error("Failed to fetch cancelled appointments:",e.data.message)}catch(e){console.error("Error fetching cancelled appointments",e)}};n.useEffect(()=>{z()},[]);const Y=async()=>{try{const e=await s.get("http://localhost:4002/api/total/count");if(console.log("Total Appointment Count:",e.data),e.data.success===!0){const a=e.data.count;S(a),console.log("Fetched total appointments:",a)}else console.error("Failed to fetch total appointments:",e.data.message)}catch(e){console.error("Error fetching total appointments",e)}};n.useEffect(()=>{Y()},[]);const _=async()=>{try{const e=await s.get("http://localhost:4002/api/completed/work");if(console.log("Completed work:",e.data),e.data.success===!0){const a=e.data.count;$(a),console.log("Fetched completed work:",a)}else console.error("Fetched completed work:",e.data.message)}catch(e){console.error("Error fetching completed work",e)}};n.useEffect(()=>{_()},[]);const q=async()=>{try{const e=await s.get("http://localhost:4002/api/completed/travel");if(console.log("Travel work:",e.data),e.data.success===!0){const a=e.data.count;A(a),console.log("Fetched completed travel:",a)}else console.error("Fetched completed travel:",e.data.message)}catch(e){console.error("Error fetching completed travel",e)}};n.useEffect(()=>{q()},[]);const B=async()=>{try{const e=await s.get("http://localhost:4002/api/completed/personal");if(console.log("Personal work:",e.data),e.data.success===!0){const a=e.data.count;L(a),console.log("Fetched completed personal:",a)}else console.error("Fetched completed personal:",e.data.message)}catch(e){console.error("Error fetching completed personal",e)}};n.useEffect(()=>{B()},[]);const G=async()=>{try{const e=await s.get("http://localhost:4002/api/pending/work");if(console.log("Pending work:",e.data),e.data.success===!0){const a=e.data.count;I(a),console.log("Fetched pending work:",a)}else console.error("Fetched pending work:",e.data.message)}catch(e){console.error("Error fetching pending work",e)}};n.useEffect(()=>{G()},[]);const J=async()=>{try{const e=await s.get("http://localhost:4002/api/pending/personal");if(console.log("Pending personal:",e.data),e.data.success===!0){const a=e.data.count;j(a),console.log("Fetched pending personal:",a)}else console.error("Fetched pending personal:",e.data.message)}catch(e){console.error("Error fetching pending personal",e)}};n.useEffect(()=>{J()},[]);const K=async()=>{try{const e=await s.get("http://localhost:4002/api/pending/travel");if(console.log("Pending travel:",e.data),e.data.success===!0){const a=e.data.count;W(a),console.log("Fetched pending travel:",a)}else console.error("Fetched pending travel:",e.data.message)}catch(e){console.error("Error fetching pending travel",e)}};n.useEffect(()=>{K()},[]);const l=()=>{k("/datatables/export")};return o("div",{children:[o("ul",{className:"flex space-x-2 rtl:space-x-reverse",children:[t("li",{children:t(ae,{to:"#",className:"text-primary hover:underline",children:"Dashboard"})}),t("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:t("span",{children:"Home"})})]}),o("div",{className:"pt-5",children:[o("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 mb-6 text-white",children:[o("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400",onClick:l,children:[o("div",{className:"flex justify-between",children:[t("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Completed Appointments"}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${r?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(i,{className:"hover:opacity-80 opacity-70"})})})]}),t("div",{className:"flex items-center mt-5",children:o("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:[" ",m!==null?`${m}`:"Loading..."]})})]}),o("div",{className:"panel bg-gradient-to-r from-violet-500 to-violet-400",onClick:l,children:[o("div",{className:"flex justify-between",children:[t("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Pending Appointments"}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${r?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(i,{className:"hover:opacity-80 opacity-70"})})})]}),t("div",{className:"flex items-center mt-5",children:o("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:[" ",p!==null?`${p}`:"Loading..."]})})]}),o("div",{className:"panel bg-gradient-to-r from-blue-500 to-blue-400",onClick:l,children:[o("div",{className:"flex justify-between",children:[t("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Cancelled Appointments"}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${r?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(i,{className:"hover:opacity-80 opacity-70"})})})]}),t("div",{className:"flex items-center mt-5",children:t("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:g!==null?`${g}`:"Loading..."})})]}),o("div",{className:"panel bg-gradient-to-r from-fuchsia-500 to-fuchsia-400",onClick:l,children:[o("div",{className:"flex justify-between",children:[t("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Appointments"}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${r?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(i,{className:"hover:opacity-80 opacity-70"})})})]}),t("div",{className:"flex items-center mt-5",children:o("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:[" ",h!==null?`${h}`:"Loading..."]})})]})]}),o("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[o("div",{className:"grid gap-6 xl:col-span-5",children:[o("div",{className:"panel overflow-hidden",onClick:l,children:[o("div",{className:"flex items-center justify-between",children:[o("div",{children:[t("div",{className:"text-lg font-bold",children:"Completed Appointments"}),t("div",{className:"text-success",children:" Attended "})]}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${r?"bottom-start":"bottom-end"}`,btnClassName:"hover:opacity-80",button:t(i,{className:"hover:opacity-80 opacity-70"})})})]}),o("div",{className:"relative mt-10",children:[t("div",{className:"absolute -bottom-12 ltr:-right-12 rtl:-left-12 w-24 h-24",children:t(ne,{className:"text-success opacity-20 w-full h-full"})}),o("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[o("div",{children:[t("div",{className:"text-primary",children:"Personal"}),o("div",{className:"mt-2 font-semibold text-2xl",children:[" ",v!==null?`${v}`:"Loading..."]})]}),o("div",{children:[t("div",{className:"text-primary",children:"Work"}),o("div",{className:"mt-2 font-semibold text-2xl",children:[" ",u!==null?`${u}`:"Loading..."]})]}),o("div",{children:[t("div",{className:"text-primary",children:"Traveling"}),o("div",{className:"mt-2 font-semibold text-2xl",children:[" ",f!==null?`${f}`:"Loading..."]})]})]})]})]}),o("div",{className:"panel overflow-hidden",onClick:l,children:[o("div",{className:"flex items-center justify-between",children:[o("div",{children:[t("div",{className:"text-lg font-bold",children:"Pending Appointments"}),t("div",{className:"text-danger",children:" To be attended "})]}),t("div",{className:"dropdown",children:t(c,{offset:[0,5],placement:`${r?"bottom-start":"bottom-end"}`,button:t(i,{className:"hover:opacity-80 opacity-70"})})})]}),o("div",{className:"relative mt-10",children:[t("div",{className:"absolute -bottom-12 ltr:-right-12 rtl:-left-12 w-24 h-24",children:t(se,{className:"text-danger opacity-20 w-24 h-full"})}),o("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[o("div",{children:[t("div",{className:"text-primary",children:"Personal"}),t("div",{className:"mt-2 font-semibold text-2xl",children:N!==null?`${N}`:"Loading..."})]}),o("div",{children:[t("div",{className:"text-primary",children:"Work"}),t("div",{className:"mt-2 font-semibold text-2xl",children:b!==null?`${b}`:"Loading..."})]}),o("div",{children:[t("div",{className:"text-primary",children:"Traveling"}),t("div",{className:"mt-2 font-semibold text-2xl",children:x!==null?`${x}`:"Loading..."})]})]})]})]})]}),o("div",{className:"panel xl:col-span-7",children:[t("div",{className:"mb-5 text-lg font-bold",children:"All Appointments"}),t("div",{className:"table-responsive",onClick:l,children:o("table",{children:[t("thead",{children:o("tr",{children:[t("th",{children:"Number"}),t("th",{children:"Name"}),t("th",{children:"Location"}),t("th",{children:"From"}),t("th",{children:"To"}),t("th",{children:"Type"}),t("th",{children:"Status"})]})}),t("tbody",{children:F.map(e=>o("tr",{children:[t("td",{children:e.appointmentId}),t("td",{children:t("div",{className:"whitespace-nowrap",children:e.appointmentName})}),t("td",{children:e.appointmentLocation}),t("td",{children:y(e.appointmentFrom)})," ",t("td",{children:y(e.appointmentTo)}),t("td",{children:t("span",{className:`badge whitespace-nowrap ${e.event==="Personal"?"badge badge-outline-primary   ":e.event==="Work"?"badge badge-outline-warning":e.event==="Travel"?"badge badge-outline-success":e.event==="Important"?"badge badge-outline-danger":"badge badge-outline-warning"}`,children:e.event})}),t("td",{children:t("span",{className:`badge whitespace-nowrap ${e.status==="Completed"?"badge badge-outline-primary   ":e.status==="Pending"?"badge badge-outline-success":e.status==="Rescheduled"||e.status==="In Progress"?"badge badge-outline-secondary":e.status==="Cancelled"?"badge badge-outline-danger":"badge badge-outline-primary"}`,children:e.status})})]}))})]})})]})]})]})]})};export{me as default};
